---
layout: post
name: blog-post
title: 只会一种语言带来的风险, 我的观点
date: 2010-11-01 00:07:00.000000000 +08:00
categories:
- rails
- language
permalink: /2010/11/blog-post.html
---
今天 shanghai on rails 三周年<a href="http://groups.google.com/group/shanghaionrails/browse_thread/thread/f732597c1ec74d52">聚会</a>时提到一个问题，一个程序员能否只会一种语言，只会一种语言会带来什么样的技术风险?<br /><br />我的观点是只会一种语言确实会带来风险，风险主要来自于程序员会变得偏执以及语言本身会跟不上需求的演化。前一点比较主观，所以主要说说语言本身跟不上需求演化的问题。<br /><br />在 C 和 Fortran 时代, 编程的一个主要指导思想是如何充分利用 CPU 和内存，所以我们会推崇 blas, lapack, atlas 之类的数学库, 会去研究如何微调编译器选项, 会说程序就是算法+数据结构，会去提醒朋友使用 minmax 算法因为他只需比较 ~1.5N 次而不是 2N 次。<br /><br />逐渐地，需求变更了, 我们觉得面向对象的设计很重要, 他能让我们能处理一些更复杂的业务，为此我们愿意牺牲一点性能, 所以 C++ 出现了。C++ 尽管声称性能不妥协，但在虚函数，异常，RTTI 上毕竟对性能做了一些妥协，而且由于 C++ 工程上难度的提高, 导致在实际实施中会损失了更多的运行效率。这时期我们会推崇 MFC, QT, WX 这类的 UI 库, 以及 ACE 之类的网络库。为了降低 C++ 工程上的风险，我们会去读 Effective C++, Exceptional C++ 这类书，会去尽量找有较长工作经验的工程师。<br /><br />需求再次变更了，我们无法容忍 C++ 的低鲁棒性. 变量未初始化, 提前释放，缓冲区溢出, 复杂的多线程实践, 没有底层安全机制, 这些问题导致了一个又一个的项目失败。所以 Java 出现了, Java 抛弃了性能不妥协，引入了 GC, 引入了更方便的同步机制, 更堵住了一些让 C++ 程序崩溃的漏洞。这时期我们会推崇 J2EE，几乎霸占了整个企业应用市场。我们会教导我们的同事要使用 TDD, 接口要和实现分离, 要使用检查异常。<br /><br />接着需求就出现分支了, 一支说 Web 开发很重要, 我们需要开发更有效率, 语言需要更灵活, 所以 Ruby, Python 这类的语言开始流行，诞生了 Rails, Django 这类优秀的 Web 框架。特别是 Ruby, 在引入 MixIn, Block, DSL, BDD, Bundler 后，极大程度地提高了开发效率。<br /><br />Java 也做了一个很大规模的演化: Java 5, 再加上 SSH 框架, 引入 Annotation, 大规模使用非检查异常, 引入 Aspect, 引入 cglib, ORM, 尽管仍然叫 Java, 但是跟我们之前的 Java 已经有了很大的不同, 设计目标不再是安全，鲁棒，而是高效开发，甚至产生了 Spring Roo, Play framework 之类相当背离 Java 原始开发风格的框架。尽管很成功, 但是作为一种静态语言，他背了太多的包袱，开发效率上始终比不上动态语言。同时由于当初为了讨好 C++, 保留了原始类型和数组, 导致反射的使用异常痛苦，普通开发者很少使用反射来简化自己的设计。所以 Web 开发方面，尽管有 Structs 2, Spring 3 之类优秀的 MVC 框架，还是有更多的程序员选择逃离  Java。<br /><br />另一支则说高并发很重要, 所以 Scala, Erlang, Concurrent Python 之类语言出现了.....(太晚了，不写了)。<br /><br />所以只会一种语言的风险在哪儿？在于需求的变化很快, 语言的演化很慢(比如C++ 1x), 很痛苦(比如 Java 7), 失败率也很高(比如 Perl 6)。只会一门语言就意味着你把自己局限在了这种语言所擅长的问题圈子，你无法解决这个圈子之外的问题。<br /><br />至于偏执, 这是我个人观察后得出的结论，你可以看看你周围的程序员，是否有这个问题<br /><br />thanks.<br /><br />PS. 为了避免不必要的纠纷，先说一句, lisp rocks.<div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/6324560-1787113759194135387?l=lidaobing.blogspot.com' alt='' /></div>
